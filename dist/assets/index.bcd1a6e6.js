import{R as e,V as s,P as n,a as t,F as o}from"./vendor.e9aaff55.js";const a=new e({decay:15,wet:.5});const r=e=>e/Math.abs(e);let d=.5,i=.7,u=[];const c=[],l=[];let h=new Array(12).fill(1).map(((e,s)=>+s+1)),p=0,m=[];function w(e,r,d,i,u,h){let p;if(r+=i,((e+=d)>=width-u/2||e<=u/2)&&(d*=-1,p=l.filter((e=>r>=e.start&&r<e.end))[0]),(r>=height-u/2||r<=u/2)&&(i*=-1,p=c.filter((s=>e>=s.start&&e<s.end))[0]),p){let r=width/2,d=(e-r)/r;0!==m.length&&Math.floor(h/32)!==m.length||(m.push(((e,r)=>{let d=new s(r),i=new n(e),u=new t({envelope:{release:2}}),c=new o(800,"lowpass");return u.connect(d),d.connect(c),c.connect(i),i.connect(a),a.toDestination(),u})(d,map(u,4,100,-6,0))),console.log(`Added synth ${Math.floor(h/32)}; ${m}`)),m[Math.floor(h/32)].triggerAttackRelease(`${function(e,s){switch(e){case 1:return"F"+(+s-1);case 2:return"Ab"+(+s-1);case 3:return"C"+s;case 4:return"Db"+s;case 5:return"Eb"+s;case 6:return"F"+s;case 7:return"Ab"+s;case 8:return"C"+(+s+1);case 9:return"Db"+(+s+1);case 10:return"Eb"+(+s+1);case 11:return"F"+(+s+1);case 12:return"Ab"+(+s+1)}}(p.note,"3")}`,"4n")}return stroke(0,120),fill(175,120),ellipse(e,r,u,u),{x:e,y:r,speedX:d,speedY:i,radius:u}}window.setup=function(){createCanvas(1200,600),h.forEach((e=>{c.push({start:width/12*(e-1),end:width/12*e,note:e}),l.push({start:height/12*(e-1),end:height/12*e,note:e})}))},window.draw=function(){background(255,0),clear();for(let e=0;e<u.length;e++)u[e]=w(u[e].x,u[e].y,u[e].speedX,u[e].speedY,u[e].radius,e)},window.mousePressed=function(){mouseX>0&&mouseX<width&&mouseY>0&&mouseY<height&&(p=millis())},window.mouseReleased=function(){if(mouseX>0&&mouseX<width&&mouseY>0&&mouseY<height){p=millis()-p;let e=random([-1,1]),s=random([-1,1]);u.push({x:mouseX,y:mouseY,speedX:e*d,speedY:s*i,radius:Math.min(map(min(p,4e3),0,4e3,4,100),width-mouseX-1,height-mouseY-1)})}return!1},window.resetBalls=function(){u=[],m=[]},window.increaseSpeed=function(){u.forEach(((e,s,n)=>{n[s].speedX=r(e.speedX)*min(abs(e.speedX)+.5,7.5),n[s].speedY=r(e.speedY)*min(abs(e.speedX)+.5,7.7),console.log(e.speedX,e.speedY)})),d=min(d+.5,7.5),i=min(i+.5,7.7)},window.decreaseSpeed=function(){u.forEach(((e,s,n)=>{n[s].speedX=r(e.speedX)*max(abs(e.speedX)-.5,.5),n[s].speedY=r(e.speedY)*max(abs(e.speedX)-.5,.7),console.log(e.speedX,e.speedY)})),d=max(d-.5,.5),i=max(i-.5,.7)};
